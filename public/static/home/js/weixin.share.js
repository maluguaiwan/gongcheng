!function(){var a=8,b="",c=0,d=function(b){var f,c=[],d=(1<<a)-1,e=b.length*a;for(f=0;e>f;f+=a)c[f>>5]|=(b.charCodeAt(f/a)&d)<<32-a-f%32;return c},e=function(a){var d,e,b=[],c=a.length;for(d=0;c>d;d+=2){if(e=parseInt(a.substr(d,2),16),isNaN(e))return"INVALID HEX STRING";b[d>>3]|=e<<24-4*(d%8)}return b},f=function(a){var f,g,b=c?"0123456789ABCDEF":"0123456789abcdef",d="",e=4*a.length;for(f=0;e>f;f+=1)g=a[f>>2]>>8*(3-f%4),d+=b.charAt(15&g>>4)+b.charAt(15&g);return d},g=function(a){var f,g,h,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="",e=4*a.length;for(f=0;e>f;f+=3)for(h=(255&a[f>>2]>>8*(3-f%4))<<16|(255&a[f+1>>2]>>8*(3-(f+1)%4))<<8|255&a[f+2>>2]>>8*(3-(f+2)%4),g=0;4>g;g+=1)d+=8*f+6*g<=32*a.length?c.charAt(63&h>>6*(3-g)):b;return d},h=function(a,b){return a<<b|a>>>32-b},i=function(a,b,c){return a^b^c},j=function(a,b,c){return a&b^~a&c},k=function(a,b,c){return a&b^a&c^b&c},l=function(a,b){var c=(65535&a)+(65535&b),d=(a>>>16)+(b>>>16)+(c>>>16);return(65535&d)<<16|65535&c},m=function(a,b,c,d,e){var f=(65535&a)+(65535&b)+(65535&c)+(65535&d)+(65535&e),g=(a>>>16)+(b>>>16)+(c>>>16)+(d>>>16)+(e>>>16)+(f>>>16);return(65535&g)<<16|65535&f},n=function(a,b){var d,e,f,g,n,o,p,q,r,c=[],s=[1732584193,4023233417,2562383102,271733878,3285377520],t=[1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782];for(a[b>>5]|=128<<24-b%32,a[(b+65>>9<<4)+15]=b,r=a.length,p=0;r>p;p+=16){for(d=s[0],e=s[1],f=s[2],g=s[3],n=s[4],q=0;80>q;q+=1)c[q]=16>q?a[q+p]:h(c[q-3]^c[q-8]^c[q-14]^c[q-16],1),o=20>q?m(h(d,5),j(e,f,g),n,t[q],c[q]):40>q?m(h(d,5),i(e,f,g),n,t[q],c[q]):60>q?m(h(d,5),k(e,f,g),n,t[q],c[q]):m(h(d,5),i(e,f,g),n,t[q],c[q]),n=g,g=f,f=h(e,30),e=d,d=o;s[0]=l(d,s[0]),s[1]=l(e,s[1]),s[2]=l(f,s[2]),s[3]=l(g,s[3]),s[4]=l(n,s[4])}return s},o=function(b,c){if(this.sha1=null,this.strBinLen=null,this.strToHash=null,"HEX"===c){if(0!==b.length%2)return"TEXT MUST BE IN BYTE INCREMENTS";this.strBinLen=4*b.length,this.strToHash=e(b)}else{if("ASCII"!==c&&"undefined"!=typeof c)return"UNKNOWN TEXT INPUT TYPE";this.strBinLen=b.length*a,this.strToHash=d(b)}};o.prototype={getHash:function(a){var b=null,c=this.strToHash.slice();switch(a){case"HEX":b=f;break;case"B64":b=g;break;default:return"FORMAT NOT RECOGNIZED"}return null===this.sha1&&(this.sha1=n(c,this.strBinLen)),b(this.sha1)},getHMAC:function(b,c,h){var i,j,k,l,m,o=[],p=[];switch(h){case"HEX":i=f;break;case"B64":i=g;break;default:return"FORMAT NOT RECOGNIZED"}if("HEX"===c){if(0!==b.length%2)return"KEY MUST BE IN BYTE INCREMENTS";j=e(b),m=4*b.length}else{if("ASCII"!==c)return"UNKNOWN KEY INPUT TYPE";j=d(b),m=b.length*a}for(m/8>64?(j=n(j,m),j[15]&=4294967040):64>m/8&&(j[15]&=4294967040),k=0;15>=k;k+=1)o[k]=909522486^j[k],p[k]=1549556828^j[k];return l=n(o.concat(this.strToHash),512+this.strBinLen),l=n(p.concat(l),672),i(l)}},window.jsSHA=o}(),function(a){function b(){}b.prototype.image=function(a){return a||(shareImgObj=document.getElementsByTagName("img")[0],"undefined"!=typeof shareImgObj?shareImgObj.src:"")},b.prototype.link=function(a){return a||location.href.split("#")[0]},b.prototype.desc=function(a){return a||location.href.split("#")[0]},b.prototype.title=function(a){return a||document.title},b.prototype.ready=function(b){function d(a){return{title:c.title(b.share.title),desc:c.desc(b.share.desc),link:c.link(b.share.url),imgUrl:c.image(b.share.image),success:function(){"string"==typeof b.callback&&e(b.callback,{type:a}),"object"==typeof b.callback&&e(b.callback.url,$.extend({},b.callback.data,{type:a}))}}}function e(a,b){$.ajax({url:a,data:b,type:"post"})}var c=this;b.disable&&("string"==typeof b.disable?a.wx&&wx.hideMenuItems({menuList:["menuItem:share:appMessage","menuItem:share:timeline","menuItem:share:qq","menuItem:share:weiboApp","menuItem:share:facebook"]}):"object"==typeof b.disable&&(b.disable.appmessage&&a.wx&&wx.hideMenuItems({menuList:["menuItem:share:appMessage"]}),b.disable.timeline&&a.wx&&wx.hideMenuItems({menuList:["menuItem:share:timeline"]}))),a.wx&&wx.onMenuShareTimeline(d("timeline")),a.wx&&wx.onMenuShareAppMessage(d("appmessage")),a.wx&&wx.onMenuShareQQ(d("qq")),a.wx&&wx.onMenuShareWeibo(d("weibo"))},b.prototype.config=function(a){function c(){for(var a="";a.length<16;a+=Math.random().toString(36).substr(2));return a}var b=this,d=Date.now(),e=location.href.split("#")[0],f=c(),g="jsapi_ticket="+a.ticket+"&noncestr="+f+"&timestamp="+d+"&url="+e,h=new jsSHA(g,"ASCII").getHash("HEX");wx.config({debug:a.debug?!0:!1,appId:a.appid,timestamp:d,nonceStr:f,signature:h,jsApiList:a.jsApiList?a.jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]}),wx.ready(function(){b.ready(a)})},b.prototype.init=function(a){var b=this,c=$.ajax({type:"GET",url:a.ticket,dataType:"json"});$.getScript("http://res.wx.qq.com/open/js/jweixin-1.1.0.js",function(){c.then(function(c){1==c.status&&c.appid&&c.ticket&&-1!=c.ticket&&(a=$.extend(a,c)),b.config(a)})})},a.share=new b}(window);